# 자료구조 문법 암기장

## Stack/Queue - ArrayDeque

스택으로 쓰려면?
"LIFO - 뒤에서 넣고 뒤에서 빼기"
```kotlin
val stack = ArrayDeque<Int>()
stack.addLast(1)     // push
stack.removeLast()   // pop
stack.last()         // peek
stack.isEmpty()
```

큐로 쓰려면?
"FIFO - 뒤에서 넣고 앞에서 빼기"
```kotlin
val queue = ArrayDeque<Int>()
queue.addLast(1)      // offer
queue.removeFirst()   // poll
queue.first()         // peek
queue.isEmpty()
```

덱(양쪽 다 쓰기)으로 쓰려면?
"앞뒤 자유자재"
```kotlin
val deque = ArrayDeque<Int>()
deque.addFirst(1)     // 앞에 추가
deque.addLast(2)      // 뒤에 추가
deque.removeFirst()   // 앞에서 제거
deque.removeLast()    // 뒤에서 제거
```

## Map - 키-값 저장

개수 세기용 맵?
"getOrDefault로 없으면 0"
```kotlin
val map = mutableMapOf<Int, Int>()
map[key] = map.getOrDefault(key, 0) + 1
// 또는
map[key] = (map[key] ?: 0) + 1
```

맵 순회하려면?
```kotlin
for ((key, value) in map) {
    println("$key -> $value")
}
```

키 존재 확인?
```kotlin
if (key in map) { }
if (map.containsKey(key)) { }
```

## Set - 중복 제거

기본 Set 만들기?
"순서 보장 X, 중복 제거 O"
```kotlin
val set = mutableSetOf<Int>()
set.add(1)
set.remove(1)
1 in set          // contains
set.size
```

리스트에서 중복 제거?
```kotlin
val list = listOf(1, 2, 2, 3)
val unique = list.toSet()        // Set<Int>
val uniqueList = list.distinct() // List<Int>
```

## PriorityQueue - 힙

최소 힙 만들기?
"작은 게 먼저 나옴"
```kotlin
val pq = PriorityQueue<Int>()
pq.add(3)
pq.add(1)
pq.poll()  // 1이 먼저 나옴
```

최대 힙 만들기?
"큰 게 먼저 나옴"
```kotlin
val pq = PriorityQueue<Int>(reverseOrder())
pq.add(1)
pq.add(3)
pq.poll()  // 3이 먼저 나옴
```

커스텀 정렬?
"Pair의 첫 번째 기준 오름차, 같으면 두 번째 기준 내림차"
```kotlin
val pq = PriorityQueue<Pair<Int, Int>>(
    compareBy<Pair<Int, Int>> { it.first }
        .thenByDescending { it.second }
)
```

## List 조작

리스트 정렬?
```kotlin
val list = mutableListOf(3, 1, 2)
list.sort()              // 오름차순 (원본 변경)
list.sortDescending()    // 내림차순 (원본 변경)
val sorted = list.sorted()          // 오름차순 (새 리스트)
val sortedDesc = list.sortedDescending()  // 내림차순
```

리스트 거꾸로?
```kotlin
val list = mutableListOf(1, 2, 3)
list.reverse()           // 원본 변경
val rev = list.reversed()  // 새 리스트
```

특정 조건으로 정렬?
```kotlin
// 절댓값 기준 오름차순
list.sortBy { kotlin.math.abs(it) }

// 길이 기준 내림차순
list.sortByDescending { it.length }

// 복합 조건: 첫 번째 기준 오름차, 같으면 두 번째 기준 내림차
list.sortWith(compareBy<Pair<Int, Int>> { it.first }
    .thenByDescending { it.second })
```

## 이진 탐색

정렬된 리스트에서 찾기?
"없으면 음수 반환"
```kotlin
val list = listOf(1, 3, 5, 7, 9).sorted()
val idx = list.binarySearch(5)  // 2 반환
val notFound = list.binarySearch(4)  // 음수 반환
```

lowerBound / upperBound?
"이진 탐색 직접 구현"
```kotlin
// lowerBound: x 이상인 첫 위치
fun lowerBound(list: List<Int>, x: Int): Int {
    var left = 0
    var right = list.size
    while (left < right) {
        val mid = (left + right) / 2
        if (list[mid] < x) left = mid + 1
        else right = mid
    }
    return left
}

// upperBound: x 초과인 첫 위치
fun upperBound(list: List<Int>, x: Int): Int {
    var left = 0
    var right = list.size
    while (left < right) {
        val mid = (left + right) / 2
        if (list[mid] <= x) left = mid + 1
        else right = mid
    }
    return left
}
```

## Array vs List

Array 만들기?
"크기 고정, 인덱스 접근 빠름"
```kotlin
val arr = IntArray(5)           // [0, 0, 0, 0, 0]
val arr2 = IntArray(5) { i -> i }  // [0, 1, 2, 3, 4]
val arr3 = Array(5) { 0 }       // Array<Int>
```

2차원 배열?
```kotlin
val grid = Array(n) { IntArray(m) }
val grid2 = Array(n) { Array(m) { 0 } }
```

## 유용한 함수들

최댓값/최솟값?
```kotlin
val list = listOf(3, 1, 4, 1, 5)
list.maxOrNull()    // 5
list.minOrNull()    // 1
list.sum()          // 14
list.average()      // 2.8
```

필터링?
```kotlin
val list = listOf(1, 2, 3, 4, 5)
list.filter { it % 2 == 0 }     // [2, 4]
list.filterNot { it % 2 == 0 }  // [1, 3, 5]
```

변환?
```kotlin
val list = listOf(1, 2, 3)
list.map { it * 2 }        // [2, 4, 6]
list.mapIndexed { i, v -> i to v }  // [(0,1), (1,2), (2,3)]
```

부분 리스트?
```kotlin
val list = listOf(1, 2, 3, 4, 5)
list.take(3)        // [1, 2, 3]
list.drop(2)        // [3, 4, 5]
list.slice(1..3)    // [2, 3, 4]
```

## 문자열 <-> 리스트

문자열을 리스트로?
```kotlin
"123".toCharArray()      // CharArray
"123".toList()           // List<Char>
"123".toMutableList()    // MutableList<Char>
```

리스트를 문자열로?
```kotlin
val chars = listOf('a', 'b', 'c')
chars.joinToString("")   // "abc"
val charArray = charArrayOf('a', 'b', 'c')
String(charArray)        // "abc"
```

## 입력 처리

여러 줄 입력 받기?
```kotlin
// 줄 수를 아는 경우
val n = readln().toInt()
val lines = List(n) { readln() }

// 공백으로 구분된 정수들
val nums = readln().split(" ").map { it.toInt() }
// 또는
val (a, b, c) = readln().split(" ").map { it.toInt() }
```